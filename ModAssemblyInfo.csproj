<Project>
    <!-- Create an C# class file with assembly information. -->
    <Target Name="AddPublishConfiguration" BeforeTargets="BeforeCompile;CoreCompile" Inputs="$(MSBuildAllProjects)" Outputs="$(IntermediateOutputPath)GeneratedFile.xml">
        <PropertyGroup>
            <!-- The generated text is based on the PublishConfiguration.xml file that comes with the Paradox mod template. -->
            <GeneratedText>
                <![CDATA[
// DO NOT MODIFY THIS FILE.
// This entire file was automatically generated by ModAssemblyInfo.csproj.
// Make any needed changes in ModAssemblyInfo.csproj.

namespace $(AssemblyName)
{
    /// <summary>
    /// Make assembly info available as constant strings.
    /// </summary>
    public class ModAssemblyInfo
    {
        public const string Name        = "$(AssemblyName)"%3B
        public const string Version     = "$(Version)"%3B
        public const string Title       = "$(Title)"%3B
        public const string Description = "$(Description)"%3B
    }
}
                ]]>
            </GeneratedText>
            <GeneratedFilePath>$(ProjectDir)ModAssemblyInfo\ModAssemblyInfo.cs</GeneratedFilePath>
        </PropertyGroup>

        <ItemGroup>
            <FileWrites Include="$(GeneratedFilePath)" />
        </ItemGroup>

        <WriteLinesToFile Lines="$(GeneratedText)" File="$(GeneratedFilePath)" WriteOnlyWhenDifferent="true" Overwrite="true" />
    </Target>
</Project>